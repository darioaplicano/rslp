<div class="bar"><app-nav-bar></app-nav-bar></div>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<div class="container">
  <div class="row">
    <div>
        <h2>{{titule}}
          <button type="button" class="btn btn-primary" *ngIf="recomienda" (click) ="recomendar()">★</button>
          <button type="button" class="btn btn-light" *ngIf="!recomienda" (click) ="recomendar()">★</button>
          <div class="dropdown show">
            <button class="btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Lista
            </button>
          
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <a class="dropdown-item" href="#">Por ver</a>
              <a class="dropdown-item" href="#">Visto</a>
              <a class="dropdown-item" href="#">Ninguno</a>
            </div>
          </div>
        </h2>
    </div>
  </div> 
  <div class="row">
    <div class="col-sm-2">
      <div>
          <img class="img-fluid img-thumbnail" src="{{image}}">
      </div>
    </div>
    <div class="col-sm-3">
      <div>
        <p *ngIf="type=='movie'">Director: {{authorDirector}}</p>
        <p *ngIf="type=='book'">Autor: {{authorDirector}}</p>
        <p>Genero: {{gender}}</p>
        <p>Año: {{age}}</p>
      </div>
    </div>
    <div class="col-sm-7">
      <div>
        {{synopsis}}
      </div>
    </div>
  </div>
  <div class="row">
    <h3>Reseñas</h3>
  </div>
  <div class="row">
    <div class="col-sm-9">
      <div class="form-group">
          <textarea class="form-control" id="resena" rows="3"
            required
            [(ngModel)]="newResena.comentario" name="comentario" placeholder="Escriba su comentario"
          ></textarea>
        </div>
    </div>
    <div class="col-sm-3">
        <p class="clasificacion">
            <input id="radio1" type="radio" name="estrellas" value="5" [(ngModel)]="newResena.valoracion">
            <label for="radio1"><h4>★</h4></label>
            <input id="radio2" type="radio" name="estrellas" value="4" [(ngModel)]="newResena.valoracion">
            <label for="radio2"><h4>★</h4></label>
            <input id="radio3" type="radio" name="estrellas" value="3" [(ngModel)]="newResena.valoracion">
            <label for="radio3"><h4>★</h4></label>
            <input id="radio4" type="radio" name="estrellas" value="2" [(ngModel)]="newResena.valoracion">
            <label for="radio4"><h4>★</h4></label>
            <input id="radio5" type="radio" name="estrellas" value="1" [(ngModel)]="newResena.valoracion">
            <label for="radio5"><h4>★</h4></label>
          </p>
      <p><button (click)="saveResena()">Publicar</button></p>
    </div>
  </div>
  <div class="row" *ngFor="let element of ListResena">
    <div class="col-sm-3">
      <div class="thumbnail">
        <img class="img-fluid img-thumbnail" src={{element.usuario.imagen}}>
      </div><!-- /thumbnail -->
    </div><!-- /col-sm-1 -->
    
    <div class="col-sm-8">
      <div class="panel panel-default">
        <div class="panel-heading">
          <strong>{{element.usuario.nickname}}</strong> <span class="text-muted"> valoración {{element.valoracion}}/5</span>
        </div>
        <div class="panel-body bg-secondary text-white">
          {{element.comentario}}
        </div><!-- /panel-body -->
      </div><!-- /panel panel-default -->
    </div><!-- /col-sm-5 -->
  </div><!-- /row -->
</div>
